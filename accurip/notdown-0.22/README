Notdown Tools
=============
Assorted Ruby language classes for dealing with tocfile/cuesheet and associated audio. Includes CDDB disc ID and AccurateRip-compatible checksumming algorithm.

Author: Eric Shattow a.k.a jnc @ freenode irc #freematrix

Credits:

Bonkers @ freenode irc #ardour)
All the helpful folks in freenode irc #ruby-lang too.
Christopher Key for his ARCue.pl AccurateRip implementation

Background: Based on ARCue.pl and WireShark packet captures of dbPowerAmp.


Find your (true) offset
-----------------------
Each model of cdrom drive in the world has a different idea of where to begin reading data.

The author's configuration (Plextor PX-712SA) is said to require an offset setting of 30 to retain AccurateRip compatibility. But since AccurateRip compatible drive offsets are incorrect by +30 samples, the true offset for the author's drive is 30 - 30 = zero. Thus said drive is a good reference point without the need to worry about lead-in/lead-out overreading.

Example:

ALBUM=album
DRIVE=/dev/sr0
OFFSET=0

cdrdao read-toc --device $DRIVE --datafile $ALBUM.wav $ALBUM.toc

cdparanoia -d $DRIVE -O $OFFSET --never-skip -Z [00:00:00.00]- $ALBUM.wav

./clashcheck.rb album.toc [accurateripchecksumdata.bin]


Known bugs / mis-features
-------------------------
Pathname separator is presumed to be '/' due to programmer laziness.
Not designed for use with multiple wav data sources on tocfile/cuesheet.
Not tested with cd-extra layouts... please help us save the galaxy, dear!

